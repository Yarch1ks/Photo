"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/process/route";
exports.ids = ["app/api/process/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_mak_Desktop_PhotoSku_src_app_api_process_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/process/route.ts */ \"(rsc)/./src/app/api/process/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/process/route\",\n        pathname: \"/api/process\",\n        filename: \"route\",\n        bundlePath: \"app/api/process/route\"\n    },\n    resolvedPagePath: \"/Users/mak/Desktop/PhotoSku/src/app/api/process/route.ts\",\n    nextConfigOutput,\n    userland: _Users_mak_Desktop_PhotoSku_src_app_api_process_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/process/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9jZXNzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9jZXNzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvY2VzcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hayUyRkRlc2t0b3AlMkZQaG90b1NrdSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYWslMkZEZXNrdG9wJTJGUGhvdG9Ta3UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUTtBQUNyRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3Bob3RvLXNrdS1wcm9jZXNzb3IvP2Y2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL21hay9EZXNrdG9wL1Bob3RvU2t1L3NyYy9hcHAvYXBpL3Byb2Nlc3Mvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2Nlc3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9jZXNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm9jZXNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL21hay9EZXNrdG9wL1Bob3RvU2t1L3NyYy9hcHAvYXBpL3Byb2Nlc3Mvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvY2Vzcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/process/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/process/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_services_PhotoRoomService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/services/PhotoRoomService */ \"(rsc)/./src/lib/services/PhotoRoomService.ts\");\n\n\n\n\n// Ограничение на одновременные запросы к PhotoRoom\nconst MAX_CONCURRENT_REQUESTS = 3;\nlet activeRequests = 0;\n// Явно отключаем статическую генерацию для этого API route\nconst dynamic = \"force-dynamic\";\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { sku, files } = body;\n        if (!sku || !files || files.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"SKU and files are required\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"\\uD83D\\uDD27 Initializing PhotoRoomService...\");\n        let photoRoomService;\n        let results = [];\n        try {\n            photoRoomService = new _lib_services_PhotoRoomService__WEBPACK_IMPORTED_MODULE_3__.PhotoRoomService();\n            console.log(\"\\uD83D\\uDD27 PhotoRoomService initialized successfully\");\n        } catch (error) {\n            console.error(\"❌ Failed to initialize PhotoRoomService:\", error);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"PhotoRoom service initialization failed\"\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"\\uD83D\\uDD11 PhotoRoom token status check completed\");\n        // Фильтруем только изображения для обработки\n        const imageFiles = files.filter((file)=>file.type === \"image\");\n        const videoFiles = files.filter((file)=>file.type === \"video\");\n        // Считаем общее количество файлов для правильной нумерации\n        const totalFiles = imageFiles.length + videoFiles.length;\n        let fileCounter = 1;\n        // Сохраняем пути к оригинальным файлам для удаления после обработки\n        const originalFilesToDelete = [];\n        // Обрабатываем видео (просто пропускаем)\n        for (const videoFile of videoFiles){\n            const finalName = `${sku}_${String(fileCounter).padStart(3, \"0\")}.mp4`;\n            results.push({\n                id: videoFile.id,\n                originalName: videoFile.fileName,\n                finalName: finalName,\n                status: \"skipped\"\n            });\n            fileCounter++;\n        }\n        // Обрабатываем изображения с ограничением concurrent запросов\n        console.log(`🎯 Starting processing of ${imageFiles.length} image files...`);\n        for(let i = 0; i < imageFiles.length; i += MAX_CONCURRENT_REQUESTS){\n            const batch = imageFiles.slice(i, i + MAX_CONCURRENT_REQUESTS);\n            console.log(`📦 Processing batch ${Math.floor(i / MAX_CONCURRENT_REQUESTS) + 1} with ${batch.length} files...`);\n            // Ждем, если слишком много активных запросов\n            while(activeRequests >= MAX_CONCURRENT_REQUESTS){\n                console.log(\"⏳ Waiting for active requests to complete...\");\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n            }\n            activeRequests++;\n            console.log(`🚀 Active requests: ${activeRequests}`);\n            const batchPromises = batch.map(async (file)=>{\n                try {\n                    console.log(`🔍 Processing file: ${file.fileName}`);\n                    // Генерируем уникальное имя файла для этого конкретного файла\n                    const currentFileCounter = fileCounter++;\n                    // PhotoRoom всегда возвращает JPG формат\n                    const finalName = `${sku}_${String(currentFileCounter).padStart(3, \"0\")}.jpg`;\n                    console.log(`📝 Generated final name: ${finalName}`);\n                    // Читаем файл из правильной директории\n                    const baseUploadDir = process.env.RAILWAY_SERVICE_NAME ? \"/tmp/uploads\" : \"./uploads\";\n                    const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(baseUploadDir, sku);\n                    const filePath = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(uploadDir, file.fileName);\n                    const fileBuffer = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(filePath);\n                    console.log(`📸 Sending file to PhotoRoom: ${file.fileName}, size: ${fileBuffer.length} bytes`);\n                    // Удаляем фон через PhotoRoom\n                    console.log(\"\\uD83D\\uDE80 Calling PhotoRoom API...\");\n                    const processedBuffer = await photoRoomService.removeBackground(fileBuffer);\n                    console.log(`✅ PhotoRoom processing completed for: ${file.fileName}, processed size: ${processedBuffer.length} bytes`);\n                    // Сохраняем обработанный файл в ту же директорию\n                    const processedPath = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(uploadDir, finalName);\n                    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(processedPath, processedBuffer);\n                    console.log(`Processed file saved to: ${processedPath}`);\n                    // Добавляем оригинальный файл в список для удаления\n                    originalFilesToDelete.push(filePath);\n                    return {\n                        id: file.id,\n                        originalName: file.originalName,\n                        finalName: finalName,\n                        status: \"done\",\n                        processedPath,\n                        url: `/api/images/${sku}/${finalName}`\n                    };\n                } catch (error) {\n                    console.error(`❌ Error processing file ${file.fileName}:`, error);\n                    // Генерируем уникальное имя файла для ошибки\n                    const currentFileCounter = fileCounter++;\n                    // В случае ошибки, оставляем оригинал и помечаем как ошибку\n                    const originalExtension = file.fileName.split(\".\").pop() || \"jpg\";\n                    const errorFinalName = `${sku}_${String(currentFileCounter).padStart(3, \"0\")}.${originalExtension}`;\n                    // В случае ошибки не удаляем оригинал\n                    const baseUploadDir = process.env.RAILWAY_SERVICE_NAME ? \"/tmp/uploads\" : \"./uploads\";\n                    return {\n                        id: file.id,\n                        originalName: file.originalName,\n                        finalName: errorFinalName,\n                        status: \"error\",\n                        error: error instanceof Error ? error.message : \"Unknown error\",\n                        processedPath: (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(baseUploadDir, sku, file.fileName),\n                        url: `/api/images/${sku}/${file.fileName}`\n                    };\n                }\n            });\n            const batchResults = await Promise.all(batchPromises);\n            results.push(...batchResults);\n            activeRequests--;\n        }\n        // Сохраняем информацию о процессинге в отдельный файл для использования при скачивании\n        const baseUploadDir = process.env.RAILWAY_SERVICE_NAME ? \"/tmp/uploads\" : \"./uploads\";\n        const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(baseUploadDir, sku);\n        const processInfoPath = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(uploadDir, `${sku}-process-info.json`);\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(processInfoPath, JSON.stringify(results, null, 2));\n        // Удаляем оригинальные файлы после успешной обработки\n        for (const filePath of originalFilesToDelete){\n            try {\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.unlink)(filePath);\n                console.log(`Deleted original file: ${filePath}`);\n            } catch (error) {\n                console.error(`Error deleting file ${filePath}:`, error);\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            results,\n            sku\n        });\n    } catch (error) {\n        console.error(\"Process error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFFQSx1RkFBdUY7UUFDdkYsTUFBTTBDLGdCQUFnQkMsUUFBUUMsR0FBRyxDQUFDQyxvQkFBb0IsR0FBRyxpQkFBaUI7UUFDMUUsTUFBTUMsWUFBWWpELDBDQUFJQSxDQUFDNkMsZUFBZXBDO1FBQ3RDLE1BQU11RCxrQkFBa0JoRSwwQ0FBSUEsQ0FBQ2lELFdBQVcsQ0FBQyxFQUFFeEMsSUFBSSxrQkFBa0IsQ0FBQztRQUNsRSxNQUFNVixzREFBU0EsQ0FBQ2lFLGlCQUFpQkMsS0FBS0MsU0FBUyxDQUFDakQsU0FBUyxNQUFNO1FBRS9ELHNEQUFzRDtRQUN0RCxLQUFLLE1BQU1pQyxZQUFZekIsc0JBQXVCO1lBQzVDLElBQUk7Z0JBQ0YsTUFBTTNCLG1EQUFNQSxDQUFDb0Q7Z0JBQ2JwQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyx1QkFBdUIsRUFBRW1DLFNBQVMsQ0FBQztZQUNsRCxFQUFFLE9BQU90QyxPQUFPO2dCQUNkRSxRQUFRRixLQUFLLENBQUMsQ0FBQyxvQkFBb0IsRUFBRXNDLFNBQVMsQ0FBQyxDQUFDLEVBQUV0QztZQUNwRDtRQUNGO1FBRUEsT0FBT2hCLGtGQUFZQSxDQUFDWSxJQUFJLENBQUM7WUFDdkIyRCxTQUFTO1lBQ1RsRDtZQUNBUjtRQUNGO0lBRUYsRUFBRSxPQUFPRyxPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQyxrQkFBa0JBO1FBQ2hDLE9BQU9oQixrRkFBWUEsQ0FBQ1ksSUFBSSxDQUN0QjtZQUFFSSxPQUFPO1FBQXdCLEdBQ2pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhvdG8tc2t1LXByb2Nlc3Nvci8uL3NyYy9hcHAvYXBpL3Byb2Nlc3Mvcm91dGUudHM/NmFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyByZWFkRmlsZSwgdW5saW5rLCB3cml0ZUZpbGUsIG9wZW4gfSBmcm9tICdmcy9wcm9taXNlcydcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJ1xuaW1wb3J0IHsgUGhvdG9Sb29tU2VydmljZSB9IGZyb20gJ0AvbGliL3NlcnZpY2VzL1Bob3RvUm9vbVNlcnZpY2UnXG5cbmludGVyZmFjZSBQcm9jZXNzUmVxdWVzdCB7XG4gIHNrdTogc3RyaW5nXG4gIGZpbGVzOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZ1xuICAgIGZpbGVOYW1lOiBzdHJpbmdcbiAgICBmaWxlUGF0aDogc3RyaW5nXG4gICAgdHlwZTogc3RyaW5nXG4gICAgb3JpZ2luYWxOYW1lOiBzdHJpbmdcbiAgfT5cbn1cblxuaW50ZXJmYWNlIFByb2Nlc3NSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgcmVzdWx0czogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmdcbiAgICBvcmlnaW5hbE5hbWU6IHN0cmluZ1xuICAgIGZpbmFsTmFtZTogc3RyaW5nXG4gICAgc3RhdHVzOiAnZG9uZScgfCAnZXJyb3InIHwgJ3NraXBwZWQnXG4gICAgZXJyb3I/OiBzdHJpbmdcbiAgICBwcm9jZXNzZWRQYXRoPzogc3RyaW5nXG4gIH0+XG59XG5cbi8vINCe0LPRgNCw0L3QuNGH0LXQvdC40LUg0L3QsCDQvtC00L3QvtCy0YDQtdC80LXQvdC90YvQtSDQt9Cw0L/RgNC+0YHRiyDQuiBQaG90b1Jvb21cbmNvbnN0IE1BWF9DT05DVVJSRU5UX1JFUVVFU1RTID0gM1xubGV0IGFjdGl2ZVJlcXVlc3RzID0gMFxuXG4vLyDQr9Cy0L3QviDQvtGC0LrQu9GO0YfQsNC10Lwg0YHRgtCw0YLQuNGH0LXRgdC60YPRjiDQs9C10L3QtdGA0LDRhtC40Y4g0LTQu9GPINGN0YLQvtCz0L4gQVBJIHJvdXRlXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKSBhcyBQcm9jZXNzUmVxdWVzdFxuICAgIGNvbnN0IHsgc2t1LCBmaWxlcyB9ID0gYm9keVxuXG4gICAgaWYgKCFza3UgfHwgIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnU0tVIGFuZCBmaWxlcyBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5SnIEluaXRpYWxpemluZyBQaG90b1Jvb21TZXJ2aWNlLi4uJylcbiAgICBsZXQgcGhvdG9Sb29tU2VydmljZTogUGhvdG9Sb29tU2VydmljZVxuICAgIGxldCByZXN1bHRzOiBQcm9jZXNzUmVzcG9uc2VbJ3Jlc3VsdHMnXSA9IFtdXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIHBob3RvUm9vbVNlcnZpY2UgPSBuZXcgUGhvdG9Sb29tU2VydmljZSgpXG4gICAgICBjb25zb2xlLmxvZygn8J+UpyBQaG90b1Jvb21TZXJ2aWNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBQaG90b1Jvb21TZXJ2aWNlOicsIGVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnUGhvdG9Sb29tIHNlcnZpY2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflJEgUGhvdG9Sb29tIHRva2VuIHN0YXR1cyBjaGVjayBjb21wbGV0ZWQnKVxuXG4gICAgLy8g0KTQuNC70YzRgtGA0YPQtdC8INGC0L7Qu9GM0LrQviDQuNC30L7QsdGA0LDQttC10L3QuNGPINC00LvRjyDQvtCx0YDQsNCx0L7RgtC60LhcbiAgICBjb25zdCBpbWFnZUZpbGVzID0gZmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS50eXBlID09PSAnaW1hZ2UnKVxuICAgIGNvbnN0IHZpZGVvRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBmaWxlLnR5cGUgPT09ICd2aWRlbycpXG5cbiAgICAvLyDQodGH0LjRgtCw0LXQvCDQvtCx0YnQtdC1INC60L7Qu9C40YfQtdGB0YLQstC+INGE0LDQudC70L7QsiDQtNC70Y8g0L/RgNCw0LLQuNC70YzQvdC+0Lkg0L3Rg9C80LXRgNCw0YbQuNC4XG4gICAgY29uc3QgdG90YWxGaWxlcyA9IGltYWdlRmlsZXMubGVuZ3RoICsgdmlkZW9GaWxlcy5sZW5ndGhcbiAgICBsZXQgZmlsZUNvdW50ZXIgPSAxXG4gICAgXG4gICAgLy8g0KHQvtGF0YDQsNC90Y/QtdC8INC/0YPRgtC4INC6INC+0YDQuNCz0LjQvdCw0LvRjNC90YvQvCDRhNCw0LnQu9Cw0Lwg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8g0L/QvtGB0LvQtSDQvtCx0YDQsNCx0L7RgtC60LhcbiAgICBjb25zdCBvcmlnaW5hbEZpbGVzVG9EZWxldGU6IHN0cmluZ1tdID0gW11cblxuICAgIC8vINCe0LHRgNCw0LHQsNGC0YvQstCw0LXQvCDQstC40LTQtdC+ICjQv9GA0L7RgdGC0L4g0L/RgNC+0L/Rg9GB0LrQsNC10LwpXG4gICAgZm9yIChjb25zdCB2aWRlb0ZpbGUgb2YgdmlkZW9GaWxlcykge1xuICAgICAgY29uc3QgZmluYWxOYW1lID0gYCR7c2t1fV8ke1N0cmluZyhmaWxlQ291bnRlcikucGFkU3RhcnQoMywgJzAnKX0ubXA0YFxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgaWQ6IHZpZGVvRmlsZS5pZCxcbiAgICAgICAgb3JpZ2luYWxOYW1lOiB2aWRlb0ZpbGUuZmlsZU5hbWUsXG4gICAgICAgIGZpbmFsTmFtZTogZmluYWxOYW1lLFxuICAgICAgICBzdGF0dXM6ICdza2lwcGVkJ1xuICAgICAgfSlcbiAgICAgIGZpbGVDb3VudGVyKytcbiAgICB9XG5cbiAgICAvLyDQntCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDRgSDQvtCz0YDQsNC90LjRh9C10L3QuNC10LwgY29uY3VycmVudCDQt9Cw0L/RgNC+0YHQvtCyXG4gICAgY29uc29sZS5sb2coYPCfjq8gU3RhcnRpbmcgcHJvY2Vzc2luZyBvZiAke2ltYWdlRmlsZXMubGVuZ3RofSBpbWFnZSBmaWxlcy4uLmApXG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZUZpbGVzLmxlbmd0aDsgaSArPSBNQVhfQ09OQ1VSUkVOVF9SRVFVRVNUUykge1xuICAgICAgY29uc3QgYmF0Y2ggPSBpbWFnZUZpbGVzLnNsaWNlKGksIGkgKyBNQVhfQ09OQ1VSUkVOVF9SRVFVRVNUUylcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OmIFByb2Nlc3NpbmcgYmF0Y2ggJHtNYXRoLmZsb29yKGkvTUFYX0NPTkNVUlJFTlRfUkVRVUVTVFMpICsgMX0gd2l0aCAke2JhdGNoLmxlbmd0aH0gZmlsZXMuLi5gKVxuICAgICAgXG4gICAgICAvLyDQltC00LXQvCwg0LXRgdC70Lgg0YHQu9C40YjQutC+0Lwg0LzQvdC+0LPQviDQsNC60YLQuNCy0L3Ri9GFINC30LDQv9GA0L7RgdC+0LJcbiAgICAgIHdoaWxlIChhY3RpdmVSZXF1ZXN0cyA+PSBNQVhfQ09OQ1VSUkVOVF9SRVFVRVNUUykge1xuICAgICAgICBjb25zb2xlLmxvZygn4o+zIFdhaXRpbmcgZm9yIGFjdGl2ZSByZXF1ZXN0cyB0byBjb21wbGV0ZS4uLicpXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSlcbiAgICAgIH1cblxuICAgICAgYWN0aXZlUmVxdWVzdHMrK1xuICAgICAgY29uc29sZS5sb2coYPCfmoAgQWN0aXZlIHJlcXVlc3RzOiAke2FjdGl2ZVJlcXVlc3RzfWApXG5cbiAgICAgIGNvbnN0IGJhdGNoUHJvbWlzZXMgPSBiYXRjaC5tYXAoYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBQcm9jZXNzaW5nIGZpbGU6ICR7ZmlsZS5maWxlTmFtZX1gKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCT0LXQvdC10YDQuNGA0YPQtdC8INGD0L3QuNC60LDQu9GM0L3QvtC1INC40LzRjyDRhNCw0LnQu9CwINC00LvRjyDRjdGC0L7Qs9C+INC60L7QvdC60YDQtdGC0L3QvtCz0L4g0YTQsNC50LvQsFxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlQ291bnRlciA9IGZpbGVDb3VudGVyKytcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQaG90b1Jvb20g0LLRgdC10LPQtNCwINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCIEpQRyDRhNC+0YDQvNCw0YJcbiAgICAgICAgICBjb25zdCBmaW5hbE5hbWUgPSBgJHtza3V9XyR7U3RyaW5nKGN1cnJlbnRGaWxlQ291bnRlcikucGFkU3RhcnQoMywgJzAnKX0uanBnYFxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OdIEdlbmVyYXRlZCBmaW5hbCBuYW1lOiAke2ZpbmFsTmFtZX1gKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCn0LjRgtCw0LXQvCDRhNCw0LnQuyDQuNC3INC/0YDQsNCy0LjQu9GM0L3QvtC5INC00LjRgNC10LrRgtC+0YDQuNC4XG4gICAgICAgICAgY29uc3QgYmFzZVVwbG9hZERpciA9IHByb2Nlc3MuZW52LlJBSUxXQVlfU0VSVklDRV9OQU1FID8gJy90bXAvdXBsb2FkcycgOiAnLi91cGxvYWRzJ1xuICAgICAgICAgIGNvbnN0IHVwbG9hZERpciA9IGpvaW4oYmFzZVVwbG9hZERpciwgc2t1KVxuICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gam9pbih1cGxvYWREaXIsIGZpbGUuZmlsZU5hbWUpXG4gICAgICAgICAgY29uc3QgZmlsZUJ1ZmZlciA9IGF3YWl0IHJlYWRGaWxlKGZpbGVQYXRoKVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5O4IFNlbmRpbmcgZmlsZSB0byBQaG90b1Jvb206ICR7ZmlsZS5maWxlTmFtZX0sIHNpemU6ICR7ZmlsZUJ1ZmZlci5sZW5ndGh9IGJ5dGVzYClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDQo9C00LDQu9GP0LXQvCDRhNC+0L0g0YfQtdGA0LXQtyBQaG90b1Jvb21cbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCBDYWxsaW5nIFBob3RvUm9vbSBBUEkuLi4nKVxuICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZEJ1ZmZlciA9IGF3YWl0IHBob3RvUm9vbVNlcnZpY2UucmVtb3ZlQmFja2dyb3VuZChmaWxlQnVmZmVyKVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgUGhvdG9Sb29tIHByb2Nlc3NpbmcgY29tcGxldGVkIGZvcjogJHtmaWxlLmZpbGVOYW1lfSwgcHJvY2Vzc2VkIHNpemU6ICR7cHJvY2Vzc2VkQnVmZmVyLmxlbmd0aH0gYnl0ZXNgKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQvtCx0YDQsNCx0L7RgtCw0L3QvdGL0Lkg0YTQsNC50Lsg0LIg0YLRgyDQttC1INC00LjRgNC10LrRgtC+0YDQuNGOXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBmaW5hbE5hbWUpXG4gICAgICAgICAgYXdhaXQgd3JpdGVGaWxlKHByb2Nlc3NlZFBhdGgsIHByb2Nlc3NlZEJ1ZmZlcilcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2VkIGZpbGUgc2F2ZWQgdG86ICR7cHJvY2Vzc2VkUGF0aH1gKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDQvtGA0LjQs9C40L3QsNC70YzQvdGL0Lkg0YTQsNC50Lsg0LIg0YHQv9C40YHQvtC6INC00LvRjyDRg9C00LDQu9C10L3QuNGPXG4gICAgICAgICAgb3JpZ2luYWxGaWxlc1RvRGVsZXRlLnB1c2goZmlsZVBhdGgpXG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBmaWxlLmlkLFxuICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiBmaWxlLm9yaWdpbmFsTmFtZSwgLy8gPC0tINCY0YHQv9C+0LvRjNC30YPQtdC8INC+0YDQuNCz0LjQvdCw0LvRjNC90L7QtSDQuNC80Y8g0YTQsNC50LvQsFxuICAgICAgICAgICAgZmluYWxOYW1lOiBmaW5hbE5hbWUsXG4gICAgICAgICAgICBzdGF0dXM6ICdkb25lJyBhcyBjb25zdCxcbiAgICAgICAgICAgIHByb2Nlc3NlZFBhdGgsXG4gICAgICAgICAgICB1cmw6IGAvYXBpL2ltYWdlcy8ke3NrdX0vJHtmaW5hbE5hbWV9YFxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgcHJvY2Vzc2luZyBmaWxlICR7ZmlsZS5maWxlTmFtZX06YCwgZXJyb3IpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g0JPQtdC90LXRgNC40YDRg9C10Lwg0YPQvdC40LrQsNC70YzQvdC+0LUg0LjQvNGPINGE0LDQudC70LAg0LTQu9GPINC+0YjQuNCx0LrQuFxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRGaWxlQ291bnRlciA9IGZpbGVDb3VudGVyKytcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDQkiDRgdC70YPRh9Cw0LUg0L7RiNC40LHQutC4LCDQvtGB0YLQsNCy0LvRj9C10Lwg0L7RgNC40LPQuNC90LDQuyDQuCDQv9C+0LzQtdGH0LDQtdC8INC60LDQuiDQvtGI0LjQsdC60YNcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbEV4dGVuc2lvbiA9IGZpbGUuZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKSB8fCAnanBnJ1xuICAgICAgICAgIGNvbnN0IGVycm9yRmluYWxOYW1lID0gYCR7c2t1fV8ke1N0cmluZyhjdXJyZW50RmlsZUNvdW50ZXIpLnBhZFN0YXJ0KDMsICcwJyl9LiR7b3JpZ2luYWxFeHRlbnNpb259YFxuICAgICAgICAgIFxuICAgICAgICAgIC8vINCSINGB0LvRg9GH0LDQtSDQvtGI0LjQsdC60Lgg0L3QtSDRg9C00LDQu9GP0LXQvCDQvtGA0LjQs9C40L3QsNC7XG4gICAgICAgICAgY29uc3QgYmFzZVVwbG9hZERpciA9IHByb2Nlc3MuZW52LlJBSUxXQVlfU0VSVklDRV9OQU1FID8gJy90bXAvdXBsb2FkcycgOiAnLi91cGxvYWRzJ1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZmlsZS5pZCxcbiAgICAgICAgICAgIG9yaWdpbmFsTmFtZTogZmlsZS5vcmlnaW5hbE5hbWUsXG4gICAgICAgICAgICBmaW5hbE5hbWU6IGVycm9yRmluYWxOYW1lLFxuICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InIGFzIGNvbnN0LFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgICAgcHJvY2Vzc2VkUGF0aDogam9pbihiYXNlVXBsb2FkRGlyLCBza3UsIGZpbGUuZmlsZU5hbWUpLFxuICAgICAgICAgICAgdXJsOiBgL2FwaS9pbWFnZXMvJHtza3V9LyR7ZmlsZS5maWxlTmFtZX1gXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zdCBiYXRjaFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChiYXRjaFByb21pc2VzKVxuICAgICAgcmVzdWx0cy5wdXNoKC4uLmJhdGNoUmVzdWx0cylcbiAgICAgIFxuICAgICAgYWN0aXZlUmVxdWVzdHMtLVxuICAgIH1cblxuICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9GA0L7RhtC10YHRgdC40L3Qs9C1INCyINC+0YLQtNC10LvRjNC90YvQuSDRhNCw0LnQuyDQtNC70Y8g0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0L/RgNC4INGB0LrQsNGH0LjQstCw0L3QuNC4XG4gICAgY29uc3QgYmFzZVVwbG9hZERpciA9IHByb2Nlc3MuZW52LlJBSUxXQVlfU0VSVklDRV9OQU1FID8gJy90bXAvdXBsb2FkcycgOiAnLi91cGxvYWRzJ1xuICAgIGNvbnN0IHVwbG9hZERpciA9IGpvaW4oYmFzZVVwbG9hZERpciwgc2t1KVxuICAgIGNvbnN0IHByb2Nlc3NJbmZvUGF0aCA9IGpvaW4odXBsb2FkRGlyLCBgJHtza3V9LXByb2Nlc3MtaW5mby5qc29uYClcbiAgICBhd2FpdCB3cml0ZUZpbGUocHJvY2Vzc0luZm9QYXRoLCBKU09OLnN0cmluZ2lmeShyZXN1bHRzLCBudWxsLCAyKSlcbiAgICBcbiAgICAvLyDQo9C00LDQu9GP0LXQvCDQvtGA0LjQs9C40L3QsNC70YzQvdGL0LUg0YTQsNC50LvRiyDQv9C+0YHQu9C1INGD0YHQv9C10YjQvdC+0Lkg0L7QsdGA0LDQsdC+0YLQutC4XG4gICAgZm9yIChjb25zdCBmaWxlUGF0aCBvZiBvcmlnaW5hbEZpbGVzVG9EZWxldGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHVubGluayhmaWxlUGF0aClcbiAgICAgICAgY29uc29sZS5sb2coYERlbGV0ZWQgb3JpZ2luYWwgZmlsZTogJHtmaWxlUGF0aH1gKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVsZXRpbmcgZmlsZSAke2ZpbGVQYXRofTpgLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHJlc3VsdHMsXG4gICAgICBza3VcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUHJvY2VzcyBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInJlYWRGaWxlIiwidW5saW5rIiwid3JpdGVGaWxlIiwiam9pbiIsIlBob3RvUm9vbVNlcnZpY2UiLCJNQVhfQ09OQ1VSUkVOVF9SRVFVRVNUUyIsImFjdGl2ZVJlcXVlc3RzIiwiZHluYW1pYyIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJza3UiLCJmaWxlcyIsImxlbmd0aCIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsInBob3RvUm9vbVNlcnZpY2UiLCJyZXN1bHRzIiwiaW1hZ2VGaWxlcyIsImZpbHRlciIsImZpbGUiLCJ0eXBlIiwidmlkZW9GaWxlcyIsInRvdGFsRmlsZXMiLCJmaWxlQ291bnRlciIsIm9yaWdpbmFsRmlsZXNUb0RlbGV0ZSIsInZpZGVvRmlsZSIsImZpbmFsTmFtZSIsIlN0cmluZyIsInBhZFN0YXJ0IiwicHVzaCIsImlkIiwib3JpZ2luYWxOYW1lIiwiZmlsZU5hbWUiLCJpIiwiYmF0Y2giLCJzbGljZSIsIk1hdGgiLCJmbG9vciIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImJhdGNoUHJvbWlzZXMiLCJtYXAiLCJjdXJyZW50RmlsZUNvdW50ZXIiLCJiYXNlVXBsb2FkRGlyIiwicHJvY2VzcyIsImVudiIsIlJBSUxXQVlfU0VSVklDRV9OQU1FIiwidXBsb2FkRGlyIiwiZmlsZVBhdGgiLCJmaWxlQnVmZmVyIiwicHJvY2Vzc2VkQnVmZmVyIiwicmVtb3ZlQmFja2dyb3VuZCIsInByb2Nlc3NlZFBhdGgiLCJ1cmwiLCJvcmlnaW5hbEV4dGVuc2lvbiIsInNwbGl0IiwicG9wIiwiZXJyb3JGaW5hbE5hbWUiLCJFcnJvciIsIm1lc3NhZ2UiLCJiYXRjaFJlc3VsdHMiLCJhbGwiLCJwcm9jZXNzSW5mb1BhdGgiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/process/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/config.ts":
/*!***************************!*\
  !*** ./src/lib/config.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ALLOWED_IMAGE_TYPES: () => (/* binding */ ALLOWED_IMAGE_TYPES),\n/* harmony export */   ALLOWED_VIDEO_TYPES: () => (/* binding */ ALLOWED_VIDEO_TYPES),\n/* harmony export */   MAX_CONCURRENT_PHOTOROOM_REQUESTS: () => (/* binding */ MAX_CONCURRENT_PHOTOROOM_REQUESTS),\n/* harmony export */   MAX_FILE_SIZE: () => (/* binding */ MAX_FILE_SIZE),\n/* harmony export */   PHOTOROOM_MAX_RETRIES: () => (/* binding */ PHOTOROOM_MAX_RETRIES),\n/* harmony export */   PHOTOROOM_RETRY_DELAY: () => (/* binding */ PHOTOROOM_RETRY_DELAY),\n/* harmony export */   PHOTOROOM_TOKEN: () => (/* binding */ PHOTOROOM_TOKEN),\n/* harmony export */   QUALITY_SETTINGS: () => (/* binding */ QUALITY_SETTINGS),\n/* harmony export */   SUPPORTED_FORMATS: () => (/* binding */ SUPPORTED_FORMATS)\n/* harmony export */ });\nconst PHOTOROOM_TOKEN = process.env.PHOTOROOM_TOKEN || \"\";\nconst MAX_FILE_SIZE = 25 * 1024 * 1024 // 25MB\n;\nconst ALLOWED_IMAGE_TYPES = [\n    \"image/jpeg\",\n    \"image/jpg\",\n    \"image/png\",\n    \"image/heic\"\n];\nconst ALLOWED_VIDEO_TYPES = [\n    \"video/mp4\",\n    \"video/quicktime\"\n];\nconst MAX_CONCURRENT_PHOTOROOM_REQUESTS = 3;\nconst PHOTOROOM_RETRY_DELAY = 1000 // 1 second\n;\nconst PHOTOROOM_MAX_RETRIES = 3;\nconst SUPPORTED_FORMATS = {\n    images: [\n        \"jpg\",\n        \"jpeg\",\n        \"png\",\n        \"heic\"\n    ],\n    videos: [\n        \"mp4\",\n        \"mov\"\n    ]\n};\nconst QUALITY_SETTINGS = {\n    image: 0.92,\n    zip: 6 // compression level for ZIP\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxrQkFBa0JDLFFBQVFDLEdBQUcsQ0FBQ0YsZUFBZSxJQUFJLEdBQUU7QUFFekQsTUFBTUcsZ0JBQWdCLEtBQUssT0FBTyxLQUFLLE9BQU87Q0FBUjtBQUN0QyxNQUFNQyxzQkFBc0I7SUFDakM7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUNNLE1BQU1DLHNCQUFzQjtJQUNqQztJQUNBO0NBQ0Q7QUFFTSxNQUFNQyxvQ0FBb0MsRUFBQztBQUMzQyxNQUFNQyx3QkFBd0IsS0FBSyxXQUFXO0NBQVo7QUFDbEMsTUFBTUMsd0JBQXdCLEVBQUM7QUFFL0IsTUFBTUMsb0JBQW9CO0lBQy9CQyxRQUFRO1FBQUM7UUFBTztRQUFRO1FBQU87S0FBTztJQUN0Q0MsUUFBUTtRQUFDO1FBQU87S0FBTTtBQUN4QixFQUFDO0FBRU0sTUFBTUMsbUJBQW1CO0lBQzlCQyxPQUFPO0lBQ1BDLEtBQUssRUFBRSw0QkFBNEI7QUFDckMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Bob3RvLXNrdS1wcm9jZXNzb3IvLi9zcmMvbGliL2NvbmZpZy50cz9hM2VmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQSE9UT1JPT01fVE9LRU4gPSBwcm9jZXNzLmVudi5QSE9UT1JPT01fVE9LRU4gfHwgJydcblxuZXhwb3J0IGNvbnN0IE1BWF9GSUxFX1NJWkUgPSAyNSAqIDEwMjQgKiAxMDI0IC8vIDI1TUJcbmV4cG9ydCBjb25zdCBBTExPV0VEX0lNQUdFX1RZUEVTID0gW1xuICAnaW1hZ2UvanBlZycsXG4gICdpbWFnZS9qcGcnLCBcbiAgJ2ltYWdlL3BuZycsXG4gICdpbWFnZS9oZWljJ1xuXVxuZXhwb3J0IGNvbnN0IEFMTE9XRURfVklERU9fVFlQRVMgPSBbXG4gICd2aWRlby9tcDQnLFxuICAndmlkZW8vcXVpY2t0aW1lJ1xuXVxuXG5leHBvcnQgY29uc3QgTUFYX0NPTkNVUlJFTlRfUEhPVE9ST09NX1JFUVVFU1RTID0gM1xuZXhwb3J0IGNvbnN0IFBIT1RPUk9PTV9SRVRSWV9ERUxBWSA9IDEwMDAgLy8gMSBzZWNvbmRcbmV4cG9ydCBjb25zdCBQSE9UT1JPT01fTUFYX1JFVFJJRVMgPSAzXG5cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfRk9STUFUUyA9IHtcbiAgaW1hZ2VzOiBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdoZWljJ10sXG4gIHZpZGVvczogWydtcDQnLCAnbW92J11cbn1cblxuZXhwb3J0IGNvbnN0IFFVQUxJVFlfU0VUVElOR1MgPSB7XG4gIGltYWdlOiAwLjkyLCAvLyA5MiUgcXVhbGl0eSBmb3IgY29udmVydGVkIGltYWdlc1xuICB6aXA6IDYgLy8gY29tcHJlc3Npb24gbGV2ZWwgZm9yIFpJUFxufSJdLCJuYW1lcyI6WyJQSE9UT1JPT01fVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiTUFYX0ZJTEVfU0laRSIsIkFMTE9XRURfSU1BR0VfVFlQRVMiLCJBTExPV0VEX1ZJREVPX1RZUEVTIiwiTUFYX0NPTkNVUlJFTlRfUEhPVE9ST09NX1JFUVVFU1RTIiwiUEhPVE9ST09NX1JFVFJZX0RFTEFZIiwiUEhPVE9ST09NX01BWF9SRVRSSUVTIiwiU1VQUE9SVEVEX0ZPUk1BVFMiLCJpbWFnZXMiLCJ2aWRlb3MiLCJRVUFMSVRZX1NFVFRJTkdTIiwiaW1hZ2UiLCJ6aXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/services/PhotoRoomService.ts":
/*!**********************************************!*\
  !*** ./src/lib/services/PhotoRoomService.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhotoRoomService: () => (/* binding */ PhotoRoomService)\n/* harmony export */ });\n/* harmony import */ var _lib_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/config */ \"(rsc)/./src/lib/config.ts\");\n\nclass PhotoRoomService {\n    constructor(){\n        this.baseUrl = \"https://image-api.photoroom.com/v2/edit\";\n        this.maxRetries = 3;\n        this.retryDelay = 1000 // 1 second\n        ;\n        this.token = _lib_config__WEBPACK_IMPORTED_MODULE_0__.PHOTOROOM_TOKEN;\n        console.log(\"\\uD83D\\uDD11 PhotoRoom token:\", this.token ? \"SET\" : \"NOT SET\");\n        if (!this.token) {\n            throw new Error(\"PHOTOROOM_TOKEN is required\");\n        }\n    }\n    /**\n   * Удаляет фон изображения через PhotoRoom API\n   * @param imageBuffer Buffer с изображением\n   * @returns Promise<Buffer> с обработанным изображением\n   */ async removeBackground(imageBuffer) {\n        console.log(\"\\uD83D\\uDE80 Starting PhotoRoom API call...\");\n        const formData = new FormData();\n        // Добавляем изображение как binary data\n        const blob = new Blob([\n            new Uint8Array(imageBuffer)\n        ], {\n            type: \"image/jpeg\"\n        });\n        formData.append(\"imageFile\", blob, \"image.jpg\");\n        // Параметры для удаления фона и обработки\n        formData.append(\"background.color\", \"FFFFFF\");\n        formData.append(\"outputSize\", \"2000x2000\");\n        formData.append(\"position.gravity\", \"center\");\n        formData.append(\"padding\", \"0.14\");\n        formData.append(\"export.format\", \"jpg\");\n        let lastError = null;\n        // Экспоненциальная задержка с ретраями\n        for(let attempt = 1; attempt <= this.maxRetries; attempt++){\n            try {\n                console.log(`📡 PhotoRoom API attempt ${attempt}/${this.maxRetries}`);\n                const response = await fetch(this.baseUrl, {\n                    method: \"POST\",\n                    headers: {\n                        \"Accept\": \"image/png, application/json\",\n                        \"x-api-key\": this.token\n                    },\n                    body: formData\n                });\n                console.log(`📊 PhotoRoom API response status: ${response.status}`);\n                if (!response.ok) {\n                    const errorData = await response.json().catch(()=>({}));\n                    console.error(`❌ PhotoRoom API error:`, errorData);\n                    // Обработка специфичных ошибок PhotoRoom\n                    if (response.status === 429) {\n                        throw new Error(\"Too many requests to PhotoRoom API\");\n                    } else if (response.status === 401) {\n                        throw new Error(\"Invalid PhotoRoom API token\");\n                    } else if (response.status >= 500) {\n                        throw new Error(`PhotoRoom server error: ${errorData.error || \"Unknown error\"}`);\n                    } else {\n                        throw new Error(`PhotoRoom API error: ${errorData.error || \"Unknown error\"}`);\n                    }\n                }\n                // PhotoRoom возвращает изображение напрямую, а не JSON\n                const imageBuffer = await response.arrayBuffer();\n                const resultBuffer = Buffer.from(imageBuffer);\n                console.log(`✅ PhotoRoom API success! Processed image size: ${resultBuffer.length} bytes`);\n                return resultBuffer;\n            } catch (error) {\n                lastError = error instanceof Error ? error : new Error(String(error));\n                console.error(`❌ PhotoRoom API attempt ${attempt} failed:`, lastError.message);\n                // Если это последняя попытка, выбрасываем ошибку\n                if (attempt === this.maxRetries) {\n                    break;\n                }\n                // Экспоненциальная задержка перед следующей попыткой\n                const delay = this.retryDelay * Math.pow(2, attempt - 1);\n                console.log(`⏳ Retrying in ${delay}ms...`);\n                await new Promise((resolve)=>setTimeout(resolve, delay));\n            }\n        }\n        console.error(\"\\uD83D\\uDC80 All PhotoRoom API attempts failed\");\n        throw lastError || new Error(\"Failed to remove background after retries\");\n    }\n    /**\n   * Проверяет доступность PhotoRoom API\n   */ async checkHealth() {\n        try {\n            const response = await fetch(`${this.baseUrl}/health`, {\n                headers: {\n                    \"Authorization\": `Bearer ${this.token}`\n                }\n            });\n            return response.ok;\n        } catch  {\n            return false;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZpY2VzL1Bob3RvUm9vbVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEM7QUFVdkMsTUFBTUM7SUFNWEMsYUFBYzthQUpHQyxVQUFVO2FBQ1ZDLGFBQWE7YUFDYkMsYUFBYSxLQUFLLFdBQVc7O1FBRzVDLElBQUksQ0FBQ0MsS0FBSyxHQUFHTix3REFBZUE7UUFDNUJPLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBdUIsSUFBSSxDQUFDRixLQUFLLEdBQUcsUUFBUTtRQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDQSxLQUFLLEVBQUU7WUFDZixNQUFNLElBQUlHLE1BQU07UUFDbEI7SUFDRjtJQUVBOzs7O0dBSUMsR0FDRCxNQUFNQyxpQkFBaUJDLFdBQW1CLEVBQW1CO1FBQzNESixRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNSSxXQUFXLElBQUlDO1FBRXJCLHdDQUF3QztRQUN4QyxNQUFNQyxPQUFPLElBQUlDLEtBQUs7WUFBQyxJQUFJQyxXQUFXTDtTQUFhLEVBQUU7WUFBRU0sTUFBTTtRQUFhO1FBQzFFTCxTQUFTTSxNQUFNLENBQUMsYUFBYUosTUFBTTtRQUVuQywwQ0FBMEM7UUFDMUNGLFNBQVNNLE1BQU0sQ0FBQyxvQkFBb0I7UUFDcENOLFNBQVNNLE1BQU0sQ0FBQyxjQUFjO1FBQzlCTixTQUFTTSxNQUFNLENBQUMsb0JBQW9CO1FBQ3BDTixTQUFTTSxNQUFNLENBQUMsV0FBVztRQUMzQk4sU0FBU00sTUFBTSxDQUFDLGlCQUFpQjtRQUVqQyxJQUFJQyxZQUEwQjtRQUU5Qix1Q0FBdUM7UUFDdkMsSUFBSyxJQUFJQyxVQUFVLEdBQUdBLFdBQVcsSUFBSSxDQUFDaEIsVUFBVSxFQUFFZ0IsVUFBVztZQUMzRCxJQUFJO2dCQUNGYixRQUFRQyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRVksUUFBUSxDQUFDLEVBQUUsSUFBSSxDQUFDaEIsVUFBVSxDQUFDLENBQUM7Z0JBRXBFLE1BQU1pQixXQUFXLE1BQU1DLE1BQU0sSUFBSSxDQUFDbkIsT0FBTyxFQUFFO29CQUN6Q29CLFFBQVE7b0JBQ1JDLFNBQVM7d0JBQ1AsVUFBVTt3QkFDVixhQUFhLElBQUksQ0FBQ2xCLEtBQUs7b0JBQ3pCO29CQUNBbUIsTUFBTWI7Z0JBQ1I7Z0JBRUFMLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtDQUFrQyxFQUFFYSxTQUFTSyxNQUFNLENBQUMsQ0FBQztnQkFFbEUsSUFBSSxDQUFDTCxTQUFTTSxFQUFFLEVBQUU7b0JBQ2hCLE1BQU1DLFlBQVksTUFBTVAsU0FBU1EsSUFBSSxHQUFHQyxLQUFLLENBQUMsSUFBTyxFQUFDO29CQUN0RHZCLFFBQVF3QixLQUFLLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFSDtvQkFFeEMseUNBQXlDO29CQUN6QyxJQUFJUCxTQUFTSyxNQUFNLEtBQUssS0FBSzt3QkFDM0IsTUFBTSxJQUFJakIsTUFBTTtvQkFDbEIsT0FBTyxJQUFJWSxTQUFTSyxNQUFNLEtBQUssS0FBSzt3QkFDbEMsTUFBTSxJQUFJakIsTUFBTTtvQkFDbEIsT0FBTyxJQUFJWSxTQUFTSyxNQUFNLElBQUksS0FBSzt3QkFDakMsTUFBTSxJQUFJakIsTUFBTSxDQUFDLHdCQUF3QixFQUFFbUIsVUFBVUcsS0FBSyxJQUFJLGdCQUFnQixDQUFDO29CQUNqRixPQUFPO3dCQUNMLE1BQU0sSUFBSXRCLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRW1CLFVBQVVHLEtBQUssSUFBSSxnQkFBZ0IsQ0FBQztvQkFDOUU7Z0JBQ0Y7Z0JBRUEsdURBQXVEO2dCQUN2RCxNQUFNcEIsY0FBYyxNQUFNVSxTQUFTVyxXQUFXO2dCQUM5QyxNQUFNQyxlQUFlQyxPQUFPQyxJQUFJLENBQUN4QjtnQkFFakNKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLCtDQUErQyxFQUFFeUIsYUFBYUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDekYsT0FBT0g7WUFFVCxFQUFFLE9BQU9GLE9BQU87Z0JBQ2RaLFlBQVlZLGlCQUFpQnRCLFFBQVFzQixRQUFRLElBQUl0QixNQUFNNEIsT0FBT047Z0JBQzlEeEIsUUFBUXdCLEtBQUssQ0FBQyxDQUFDLHdCQUF3QixFQUFFWCxRQUFRLFFBQVEsQ0FBQyxFQUFFRCxVQUFVbUIsT0FBTztnQkFFN0UsaURBQWlEO2dCQUNqRCxJQUFJbEIsWUFBWSxJQUFJLENBQUNoQixVQUFVLEVBQUU7b0JBQy9CO2dCQUNGO2dCQUVBLHFEQUFxRDtnQkFDckQsTUFBTW1DLFFBQVEsSUFBSSxDQUFDbEMsVUFBVSxHQUFHbUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdyQixVQUFVO2dCQUN0RGIsUUFBUUMsR0FBRyxDQUFDLENBQUMsY0FBYyxFQUFFK0IsTUFBTSxLQUFLLENBQUM7Z0JBQ3pDLE1BQU0sSUFBSUcsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBU0o7WUFDbkQ7UUFDRjtRQUVBaEMsUUFBUXdCLEtBQUssQ0FBQztRQUNkLE1BQU1aLGFBQWEsSUFBSVYsTUFBTTtJQUMvQjtJQUVBOztHQUVDLEdBQ0QsTUFBTW9DLGNBQWdDO1FBQ3BDLElBQUk7WUFDRixNQUFNeEIsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUNuQixPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQ3JEcUIsU0FBUztvQkFDUCxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDbEIsS0FBSyxDQUFDLENBQUM7Z0JBQ3pDO1lBQ0Y7WUFFQSxPQUFPZSxTQUFTTSxFQUFFO1FBQ3BCLEVBQUUsT0FBTTtZQUNOLE9BQU87UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waG90by1za3UtcHJvY2Vzc29yLy4vc3JjL2xpYi9zZXJ2aWNlcy9QaG90b1Jvb21TZXJ2aWNlLnRzPzk4M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUEhPVE9ST09NX1RPS0VOIH0gZnJvbSAnQC9saWIvY29uZmlnJ1xuXG5pbnRlcmZhY2UgUGhvdG9Sb29tUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIHJlc3VsdD86IHtcbiAgICBpbWFnZTogc3RyaW5nIC8vIGJhc2U2NCBlbmNvZGVkIGltYWdlXG4gIH1cbiAgZXJyb3I/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIFBob3RvUm9vbVNlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IHRva2VuOiBzdHJpbmdcbiAgcHJpdmF0ZSByZWFkb25seSBiYXNlVXJsID0gJ2h0dHBzOi8vaW1hZ2UtYXBpLnBob3Rvcm9vbS5jb20vdjIvZWRpdCdcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhSZXRyaWVzID0gM1xuICBwcml2YXRlIHJlYWRvbmx5IHJldHJ5RGVsYXkgPSAxMDAwIC8vIDEgc2Vjb25kXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50b2tlbiA9IFBIT1RPUk9PTV9UT0tFTlxuICAgIGNvbnNvbGUubG9nKCfwn5SRIFBob3RvUm9vbSB0b2tlbjonLCB0aGlzLnRva2VuID8gJ1NFVCcgOiAnTk9UIFNFVCcpXG4gICAgaWYgKCF0aGlzLnRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BIT1RPUk9PTV9UT0tFTiBpcyByZXF1aXJlZCcpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqINCj0LTQsNC70Y/QtdGCINGE0L7QvSDQuNC30L7QsdGA0LDQttC10L3QuNGPINGH0LXRgNC10LcgUGhvdG9Sb29tIEFQSVxuICAgKiBAcGFyYW0gaW1hZ2VCdWZmZXIgQnVmZmVyINGBINC40LfQvtCx0YDQsNC20LXQvdC40LXQvFxuICAgKiBAcmV0dXJucyBQcm9taXNlPEJ1ZmZlcj4g0YEg0L7QsdGA0LDQsdC+0YLQsNC90L3Ri9C8INC40LfQvtCx0YDQsNC20LXQvdC40LXQvFxuICAgKi9cbiAgYXN5bmMgcmVtb3ZlQmFja2dyb3VuZChpbWFnZUJ1ZmZlcjogQnVmZmVyKTogUHJvbWlzZTxCdWZmZXI+IHtcbiAgICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBQaG90b1Jvb20gQVBJIGNhbGwuLi4nKVxuICAgIFxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICBcbiAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQutCw0LogYmluYXJ5IGRhdGFcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGltYWdlQnVmZmVyKV0sIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pXG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZUZpbGUnLCBibG9iLCAnaW1hZ2UuanBnJylcbiAgICBcbiAgICAvLyDQn9Cw0YDQsNC80LXRgtGA0Ysg0LTQu9GPINGD0LTQsNC70LXQvdC40Y8g0YTQvtC90LAg0Lgg0L7QsdGA0LDQsdC+0YLQutC4XG4gICAgZm9ybURhdGEuYXBwZW5kKCdiYWNrZ3JvdW5kLmNvbG9yJywgJ0ZGRkZGRicpXG4gICAgZm9ybURhdGEuYXBwZW5kKCdvdXRwdXRTaXplJywgJzIwMDB4MjAwMCcpXG4gICAgZm9ybURhdGEuYXBwZW5kKCdwb3NpdGlvbi5ncmF2aXR5JywgJ2NlbnRlcicpXG4gICAgZm9ybURhdGEuYXBwZW5kKCdwYWRkaW5nJywgJzAuMTQnKVxuICAgIGZvcm1EYXRhLmFwcGVuZCgnZXhwb3J0LmZvcm1hdCcsICdqcGcnKVxuXG4gICAgbGV0IGxhc3RFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbFxuXG4gICAgLy8g0K3QutGB0L/QvtC90LXQvdGG0LjQsNC70YzQvdCw0Y8g0LfQsNC00LXRgNC20LrQsCDRgSDRgNC10YLRgNCw0Y/QvNC4XG4gICAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gdGhpcy5tYXhSZXRyaWVzOyBhdHRlbXB0KyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIFBob3RvUm9vbSBBUEkgYXR0ZW1wdCAke2F0dGVtcHR9LyR7dGhpcy5tYXhSZXRyaWVzfWApXG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYmFzZVVybCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnaW1hZ2UvcG5nLCBhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICd4LWFwaS1rZXknOiB0aGlzLnRva2VuLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogUGhvdG9Sb29tIEFQSSByZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBQaG90b1Jvb20gQVBJIGVycm9yOmAsIGVycm9yRGF0YSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDQntCx0YDQsNCx0L7RgtC60LAg0YHQv9C10YbQuNGE0LjRh9C90YvRhSDQvtGI0LjQsdC+0LogUGhvdG9Sb29tXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RvbyBtYW55IHJlcXVlc3RzIHRvIFBob3RvUm9vbSBBUEknKVxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBQaG90b1Jvb20gQVBJIHRva2VuJylcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA1MDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGhvdG9Sb29tIHNlcnZlciBlcnJvcjogJHtlcnJvckRhdGEuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InfWApXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUGhvdG9Sb29tIEFQSSBlcnJvcjogJHtlcnJvckRhdGEuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InfWApXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGhvdG9Sb29tINCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC40LfQvtCx0YDQsNC20LXQvdC40LUg0L3QsNC/0YDRj9C80YPRjiwg0LAg0L3QtSBKU09OXG4gICAgICAgIGNvbnN0IGltYWdlQnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKVxuICAgICAgICBjb25zdCByZXN1bHRCdWZmZXIgPSBCdWZmZXIuZnJvbShpbWFnZUJ1ZmZlcilcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUGhvdG9Sb29tIEFQSSBzdWNjZXNzISBQcm9jZXNzZWQgaW1hZ2Ugc2l6ZTogJHtyZXN1bHRCdWZmZXIubGVuZ3RofSBieXRlc2ApXG4gICAgICAgIHJldHVybiByZXN1bHRCdWZmZXJcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbGFzdEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBQaG90b1Jvb20gQVBJIGF0dGVtcHQgJHthdHRlbXB0fSBmYWlsZWQ6YCwgbGFzdEVycm9yLm1lc3NhZ2UpXG4gICAgICAgIFxuICAgICAgICAvLyDQldGB0LvQuCDRjdGC0L4g0L/QvtGB0LvQtdC00L3Rj9GPINC/0L7Qv9GL0YLQutCwLCDQstGL0LHRgNCw0YHRi9Cy0LDQtdC8INC+0YjQuNCx0LrRg1xuICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vINCt0LrRgdC/0L7QvdC10L3RhtC40LDQu9GM0L3QsNGPINC30LDQtNC10YDQttC60LAg0L/QtdGA0LXQtCDRgdC70LXQtNGD0Y7RidC10Lkg0L/QvtC/0YvRgtC60L7QuVxuICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMucmV0cnlEZWxheSAqIE1hdGgucG93KDIsIGF0dGVtcHQgLSAxKVxuICAgICAgICBjb25zb2xlLmxvZyhg4o+zIFJldHJ5aW5nIGluICR7ZGVsYXl9bXMuLi5gKVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IoJ/CfkoAgQWxsIFBob3RvUm9vbSBBUEkgYXR0ZW1wdHMgZmFpbGVkJylcbiAgICB0aHJvdyBsYXN0RXJyb3IgfHwgbmV3IEVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIGJhY2tncm91bmQgYWZ0ZXIgcmV0cmllcycpXG4gIH1cblxuICAvKipcbiAgICog0J/RgNC+0LLQtdGA0Y/QtdGCINC00L7RgdGC0YPQv9C90L7RgdGC0YwgUGhvdG9Sb29tIEFQSVxuICAgKi9cbiAgYXN5bmMgY2hlY2tIZWFsdGgoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9oZWFsdGhgLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAsXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcmVzcG9uc2Uub2tcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJQSE9UT1JPT01fVE9LRU4iLCJQaG90b1Jvb21TZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwibWF4UmV0cmllcyIsInJldHJ5RGVsYXkiLCJ0b2tlbiIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsInJlbW92ZUJhY2tncm91bmQiLCJpbWFnZUJ1ZmZlciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJibG9iIiwiQmxvYiIsIlVpbnQ4QXJyYXkiLCJ0eXBlIiwiYXBwZW5kIiwibGFzdEVycm9yIiwiYXR0ZW1wdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0YXR1cyIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImNhdGNoIiwiZXJyb3IiLCJhcnJheUJ1ZmZlciIsInJlc3VsdEJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJsZW5ndGgiLCJTdHJpbmciLCJtZXNzYWdlIiwiZGVsYXkiLCJNYXRoIiwicG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY2hlY2tIZWFsdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/services/PhotoRoomService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprocess%2Froute&page=%2Fapi%2Fprocess%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprocess%2Froute.ts&appDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmak%2FDesktop%2FPhotoSku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();